[
    {
        "id": "fecacf27.dc262",
        "type": "tab",
        "label": "Flow 1",
        "disabled": false,
        "info": ""
    },
    {
        "id": "375d0931.882a16",
        "type": "mqtt-broker",
        "z": "",
        "name": "",
        "broker": "localhost",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "13fac3e4.4c38dc",
        "type": "mosca in",
        "z": "fecacf27.dc262",
        "mqtt_port": 1883,
        "mqtt_ws_port": 8080,
        "name": "",
        "username": "",
        "password": "",
        "dburl": "",
        "x": 430,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "b004527a.b8125",
        "type": "http in",
        "z": "fecacf27.dc262",
        "name": "Temperature http",
        "url": "/temperature/set",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 420,
        "y": 280,
        "wires": [
            [
                "683e63a2.0a50dc"
            ]
        ]
    },
    {
        "id": "683e63a2.0a50dc",
        "type": "function",
        "z": "fecacf27.dc262",
        "name": "Temperature set",
        "func": "flow.set('temp',msg.payload.value);\nmsg.payload = \"ok\";\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "x": 680,
        "y": 280,
        "wires": [
            [
                "e6c0bdc3.8fc41"
            ]
        ]
    },
    {
        "id": "3c171702.502688",
        "type": "http response",
        "z": "fecacf27.dc262",
        "name": "",
        "statusCode": "200",
        "headers": {},
        "x": 920,
        "y": 220,
        "wires": []
    },
    {
        "id": "e6c0bdc3.8fc41",
        "type": "link out",
        "z": "fecacf27.dc262",
        "name": "",
        "links": [],
        "x": 815,
        "y": 280,
        "wires": []
    },
    {
        "id": "4d5c4b3e.11e104",
        "type": "link in",
        "z": "fecacf27.dc262",
        "name": "",
        "links": [],
        "x": 815,
        "y": 220,
        "wires": [
            [
                "3c171702.502688"
            ]
        ]
    },
    {
        "id": "5391dc7e.1e1514",
        "type": "http in",
        "z": "fecacf27.dc262",
        "name": "Allumer radiateur",
        "url": "/turnOn",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 420,
        "y": 420,
        "wires": [
            [
                "616bf8bf.88b158",
                "23467abd.762726"
            ]
        ]
    },
    {
        "id": "486a8567.208f5c",
        "type": "mqtt out",
        "z": "fecacf27.dc262",
        "name": "AllumerRadiateurE",
        "topic": "/home/E/Output/bool/Radiateur",
        "qos": "",
        "retain": "",
        "broker": "375d0931.882a16",
        "x": 890,
        "y": 420,
        "wires": []
    },
    {
        "id": "616bf8bf.88b158",
        "type": "link out",
        "z": "fecacf27.dc262",
        "name": "",
        "links": [],
        "x": 615,
        "y": 460,
        "wires": []
    },
    {
        "id": "23467abd.762726",
        "type": "function",
        "z": "fecacf27.dc262",
        "name": "Temperature set",
        "func": "flow.set('temp',msg.payload.value);\nmsg.payload = \"ok\";\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "x": 680,
        "y": 420,
        "wires": [
            [
                "486a8567.208f5c"
            ]
        ]
    },
    {
        "id": "5e1757e6.dc0c48",
        "type": "function",
        "z": "fecacf27.dc262",
        "name": "creerIncident",
        "func": "var date = flow.get(\"date\") || 0;\nconsole.log(msg.payload);\nvar temps = Date.now() - date;\nvar temperature = flow.get(\"temp\")+273 || 293;\n\nif(parseInt(msg.payload) < temperature && temps>60000){\n    flow.set(\"date\",Date.now());\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 650,
        "y": 500,
        "wires": [
            [
                "33abe040.16538"
            ]
        ]
    },
    {
        "id": "7a615aaa.dee0a4",
        "type": "mqtt in",
        "z": "fecacf27.dc262",
        "name": "thermomètre E",
        "topic": "/home/general/Memory/float/Température_Zone_E_[K]",
        "qos": "2",
        "broker": "375d0931.882a16",
        "x": 420,
        "y": 500,
        "wires": [
            [
                "5e1757e6.dc0c48"
            ]
        ]
    },
    {
        "id": "33abe040.16538",
        "type": "http response",
        "z": "fecacf27.dc262",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 850,
        "y": 500,
        "wires": []
    }
]