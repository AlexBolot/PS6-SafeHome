<div class="container-fluid panel panel-default">
  <div class="row panel-heading">
    <div class="col-md-8">
      <p [style.background-color]="changeBackground()" class="circle"></p>
      <h3 class="issue-title">{{issue.Title}}</h3>
    </div>
    <div class="col-md-2">
      <div *ngIf="issue.Description">
        <button class="margin-left-1em btn btn-default" (click)="showMore()">
          <span [ngClass]="buttonDetailsIcon" aria-hidden="true"></span> Détails
        </button>
      </div>
    </div>
    <div class="col-md-2">
      <button class="margin-left-1em btn btn-default" (click)="showTasks()">
        <span [ngClass]="buttonTasksIcon" aria-hidden="true"></span> Tâches ({{countTask}})
      </button>
    </div>
  </div>
  <div class="panel-body">
    <div class="row">
      <div class="col-md-3 list-group-item">Date : {{issue.DeclarationDate | date}}</div>
      <div class="col-md-4 list-group-item">Catégorie : {{categoryLabel}}</div>
      <div class="col-md-3 list-group-item">Lieu : {{locationLabel}}</div>
      <div class="col-md-2 list-group-item">Status : {{statusLabel}}</div>
    </div>
    <div class="row" *ngIf="visibleDetails">
      <br>
      <div class="col-md-12 list-group-item">Description : {{issue.Description}}</div>
    </div>
  </div>

  <div class="row" *ngIf="visibleTasks">
    <div class="col-md-6" *ngFor="let task of tasks">
      <app-task [task]="task" (updateStatus)="updateStatus($event)"></app-task>
    </div>
  </div>
</div>
